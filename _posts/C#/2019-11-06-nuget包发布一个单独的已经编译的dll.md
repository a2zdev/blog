---
layout: default
title: nuget包发布一个单独的已经编译的dll
---

### nuget包发布一个单独的已经编译的dll

今天公司生产项目出现问题，由于nuget版本问题导致功能失效。</br>
问题出现的很突然，项目升级了有段时间了，突然反馈问题，排查一下断定问题点。</br>
由于之前公司有人对已经发布的dll打包过nuget（我们这里用的是一个已经发布的dll包），但是在还原包的总是出问题，提示框架版本问题，无法使用，也没有找到具体的解决办法，今天自己遇到了，决定解决一下。
解决办法如下：</br>
既然提示版本问题，所以肯定是版本出错了，问题在于配置dll的时候没有配置配置适配dll的版本，这里需要将打包的dll作为库打到nuget包中。</br>
具体方法为，通过nuget.exe创建XXX.nuspec,修改里面的配置参数（nuget.exe发布的时候可以基于.csproj或是基于.nuspec发布），同时在同级目录建立lib文件夹，lib文件夹中建立版本文件夹，譬如我这里使用的“net40”，然后将需要打包的dll放入版本的包中</br>
nuget配置文件中不会配置适配框架的信息，所有的这些信息是通过lib目录结构实现的</br>
到此问题解决，收工